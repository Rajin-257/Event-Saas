<!DOCTYPE html>
<html>

<head>
    <%- include("../partials/title-meta.ejs", {title: "Menu Settings"}) %>
    <%- include('../partials/head-css.ejs') %>
</head>


<body>
    <!-- Begin page -->
    <div class="wrapper">

        <%- include('../partials/menu.ejs') %>

        <!-- ============================================================== -->
        <!-- Start Page Content here -->
        <!-- ============================================================== -->
        <div class="page-content">

            <div class="page-container">

                <%- include("../partials/page-title.ejs", {subtitle: "Settings", title: "Edit Menu"}) %>

                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <div class="card shadow-sm">
                            <% if(success_msg && success_msg.length > 0){ %>
                              <div class="alert alert-success alert-dismissible fade show" role="alert">
                                <%= success_msg %>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                              </div>
                            <% } %>
                          
                            <% if(error_msg && error_msg.length > 0){ %>
                              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <%= error_msg %>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                              </div>
                            <% } %>
                          
                            <% if(error && error.length > 0){ %>
                              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                <%= error %>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                              </div>
                            <% } %>
                            <div class="card-body p-4">
                                <form action="/settings/menu-setting?_method=PUT" method="POST">
                                    
                                    <div class="row">
                                        <div class="mb-3">
                                        <label for="web_title" class="form-label">First Menu Name </label>
                                        <input 
                                            type="text" 
                                            class="form-control" 
                                            id="web_title" 
                                            name="web_title"
                                            value="<%= menuSettings.web_title || 'Menu' %>"
                                        >
                                        <div class="form-text text-warning"><strong>Other's Menu will remain same</strong></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 mb-3">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <label for="menu_status" class="form-label mb-0">Menu Status</label>
                                                <div class="toggle-container">
                                                    <input type="checkbox" id="menu_status" class="toggle-checkbox" 
                                                           data-off-value="0" data-on-value="1" 
                                                           <%= menuSettings.menu_status ? 'checked' : '' %>>
                                                    <label for="menu_status" class="toggle-label">
                                                        <span class="toggle-inner" data-on="ON" data-off="OFF"></span>
                                                        <span class="toggle-switch"></span>
                                                    </label>
                                                    <input type="hidden" name="menu_status_value" id="menu_status_value" 
                                                           value="<%= menuSettings.menu_status ? '1' : '0' %>">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-4 mb-3">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <label for="address_status" class="form-label mb-0">Address Status</label>
                                                <div class="toggle-container">
                                                    <input type="checkbox" id="address_status" class="toggle-checkbox" 
                                                           data-off-value="0" data-on-value="1"
                                                           <%= menuSettings.address_status ? 'checked' : '' %>>
                                                    <label for="address_status" class="toggle-label">
                                                        <span class="toggle-inner" data-on="ON" data-off="OFF"></span>
                                                        <span class="toggle-switch"></span>
                                                    </label>
                                                    <input type="hidden" name="address_status_value" id="address_status_value" 
                                                           value="<%= menuSettings.address_status ? '1' : '0' %>">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-4 mb-3">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <label for="fb_status" class="form-label mb-0">Social_Facebook_Status</label>
                                                <div class="toggle-container">
                                                    <input type="checkbox" id="fb_status" class="toggle-checkbox" 
                                                           data-off-value="0" data-on-value="1"
                                                           <%= menuSettings.fb_status ? 'checked' : '' %>>
                                                    <label for="fb_status" class="toggle-label">
                                                        <span class="toggle-inner" data-on="ON" data-off="OFF"></span>
                                                        <span class="toggle-switch"></span>
                                                    </label>
                                                    <input type="hidden" name="fb_status_value" id="fb_status_value" 
                                                           value="<%= menuSettings.fb_status ? '1' : '0' %>">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4 mb-3">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <label for="insta_status" class="form-label mb-0">Social_insta_Status</label>
                                                <div class="toggle-container">
                                                    <input type="checkbox" id="insta_status" class="toggle-checkbox" 
                                                           data-off-value="0" data-on-value="1"
                                                           <%= menuSettings.insta_status ? 'checked' : '' %>>
                                                    <label for="insta_status" class="toggle-label">
                                                        <span class="toggle-inner" data-on="ON" data-off="OFF"></span>
                                                        <span class="toggle-switch"></span>
                                                    </label>
                                                    <input type="hidden" name="insta_status_value" id="insta_status_value" 
                                                           value="<%= menuSettings.insta_status ? '1' : '0' %>">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-4 mb-3">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <label for="youtube_status" class="form-label mb-0">Social_Youtube_Status</label>
                                                <div class="toggle-container">
                                                    <input type="checkbox" id="youtube_status" class="toggle-checkbox" 
                                                           data-off-value="0" data-on-value="1"
                                                           <%= menuSettings.youtube_status ? 'checked' : '' %>>
                                                    <label for="youtube_status" class="toggle-label">
                                                        <span class="toggle-inner" data-on="ON" data-off="OFF"></span>
                                                        <span class="toggle-switch"></span>
                                                    </label>
                                                    <input type="hidden" name="youtube_status_value" id="youtube_status_value" 
                                                           value="<%= menuSettings.youtube_status ? '1' : '0' %>">
                                                </div>
                                            </div>
                                        </div>
                                    </div>                           
                                    <div class=" text-warning"><strong>If You Do Status Off Then item will not Show.</strong></div>
                                    <div class="d-flex justify-content-between mt-4">
                                        <a href="/user/dashboard" class="btn btn-outline-secondary">
                                            <i class="mdi mdi-arrow-left me-2"></i>Cancel
                                        </a>
                                        <button type="submit" class="btn btn-primary">
                                            <i class="mdi mdi-content-save me-2"></i>Save Changes
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end row -->

            </div> <!-- container -->

            <%- include('../partials/footer.ejs') %>

        </div>

        <!-- ============================================================== -->
        <!-- End Page content -->
        <!-- ============================================================== -->

    </div>
    <!-- END wrapper -->

    <%- include('../partials/customizer.ejs') %>

    <%- include('../partials/footer-scripts.ejs') %>


<style>
/* Toggle Switch Styling */
.toggle-container {
    position: relative;
    display: inline-block;
}

.toggle-checkbox {
    height: 0;
    width: 0;
    visibility: hidden;
    position: absolute;
}

.toggle-label {
    display: block;
    overflow: hidden;
    cursor: pointer;
    border: 2px solid #ddd;
    border-radius: 20px;
    margin: 0;
    width: 70px;
    height: 30px;
    background-color: #f4f4f4;
    transition: background-color 0.3s ease;
}

.toggle-inner {
    display: block;
    width: 200%;
    margin-left: -100%;
    transition: margin 0.3s ease;
}

.toggle-inner:before,
.toggle-inner:after {
    float: left;
    width: 50%;
    height: 28px;
    padding: 0;
    line-height: 26px;
    color: white;
    font-weight: bold;
    box-sizing: border-box;
    font-size: 12px;
    text-align: center;
}

.toggle-inner:before {
    content: attr(data-on);
    padding-left: 15px;  /* Increased left padding to move ON text more to the left */
    text-align: left;    /* Left-align the ON text */
    background-color: #4CAF50;
    color: white;
}

.toggle-inner:after {
    content: attr(data-off);
    padding-right: 8px;
    background-color: #e74c3c;
    color: white;
    text-align: right;
}

.toggle-switch {
    display: block;
    width: 22px;
    height: 22px;
    margin: 2px;
    background: #FFFFFF;
    position: absolute;
    top: 2px;
    right: 40px;
    border-radius: 50%;
    transition: all 0.3s ease;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
}

.toggle-checkbox:checked + .toggle-label {
    background-color: #4CAF50;
    border-color: #2E7D32;
}

.toggle-checkbox:checked + .toggle-label .toggle-inner {
    margin-left: 0;
}

.toggle-checkbox:checked + .toggle-label .toggle-switch {
    right: 3px; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.4);
}

/* Animation */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.toggle-checkbox:checked + .toggle-label .toggle-switch,
.toggle-checkbox:not(:checked) + .toggle-label .toggle-switch {
    animation: pulse 0.3s ease-in-out;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .d-flex {
        flex-direction: column;
        align-items: flex-start !important;
    }
    
    .toggle-container {
        margin-top: 8px;
        align-self: flex-start;
    }
}
</style>

<script>
// JavaScript to update hidden input values on toggle
document.addEventListener('DOMContentLoaded', function() {
    const toggleSwitches = document.querySelectorAll('.toggle-checkbox');
    
    toggleSwitches.forEach(function(toggle) {
        // Set initial hidden value
        updateHiddenValue(toggle);
        
        // Update when toggled
        toggle.addEventListener('change', function() {
            updateHiddenValue(this);
        });
    });
    
    function updateHiddenValue(toggle) {
        const hiddenInput = toggle.parentElement.querySelector('input[type="hidden"]');
        if (toggle.checked) {
            hiddenInput.value = toggle.getAttribute('data-on-value');
        } else {
            hiddenInput.value = toggle.getAttribute('data-off-value');
        }
    }
});
</script>
</body>

</html>